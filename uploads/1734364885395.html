<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <META HTTP-EQUIV="Page-Enter" ConTENT="BlendTrans(Duration=0.3)">
    <META HTTP-EQUIV="Page-exit" ConTENT="BlendTrans(Duration=0.3)">
    <title>VideoCall App UI</title>

    <!-- Add Google Font -->
    <link
      href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style2.css" />

  </head>
  <body>
    <div class="app-container">
      <button class="mode-switch">
        <!-- sun icon -->
        <svg
          class="sun"
          fill="none"
          stroke="#fbb046"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-sun"
          viewBox="0 0 24 24"
        >
          <defs />
          <circle cx="12" cy="12" r="5" />
          <path
            d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
          />
        </svg>
        <!-- sun icon -->

        <!-- moon icon -->
        <svg
          class="moon"
          fill="none"
          stroke="#ffffff"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-moon"
          viewBox="0 0 24 24"
        >
          <defs />
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
        </svg>
        <!-- moon icon -->
      </button>
      <div class="app-main">
        <div class="room-title">
          Room: <span id="roomName"></span>
        </div>

        <!-- 내 비디오 -->
        <div id="localStream">
            <h3>My Stream</h3>
            <video id="localVideo" autoplay muted></video>
            <div id="controls">
                <!-- 카메라 및 마이크 버튼 -->
                <button id="toggleCamera" class="control-button camera-icon"></button>
                <button id="toggleMicrophone" class="control-button microphone-icon"></button>
            </div>
        </div>

        <!-- 원격 비디오 -->
        <div id="videoContainer">
            <!-- 동적으로 비디오가 추가됩니다 -->
        </div>
        <div class="video-call-wrapper">
          <!-- video -->
        </div>
        
        <div class="video-call-actions">
          <button class="video-action-button mic" onclick = "toggleAct(this)"></button>
          <button class="video-action-button camera" onclick = "toggleAct(this)"></button>
          <button class="video-action-button maximize" onclick="toggleFullScreen()"></button>
          <button class="video-action-button endcall" type = "button" onclick="location.href ='first.html'">Leave</button>
          <button class="video-action-button magnifier">
            <!-- ZoomIn icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-zoom-in"
              viewBox="0 0 24 24"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35M11 8v6M8 11h6" />
            </svg>

            <!-- ZoomIn icon -->
            <span>100%</span>
            <!-- ZoomOut Icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-zoom-out"
            >
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
              <line x1="8" y1="11" x2="14" y2="11" />
            </svg>
            <!-- ZoomOut Icon -->
          </button>
        </div>
      </div>

      <!-- Right Side -->
      <div class="right-side">
        <button class="btn-close-right">
          <!-- Close Icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            class="feather feather-x-circle"
            viewBox="0 0 24 24"
          >
            <defs></defs>
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M15 9l-6 6M9 9l6 6"></path>
          </svg>
          <!-- Close Icon -->
        </button>
        <div class="chat-container">
          
          <div class="chat-area">
            <!-- 여기에 채팅내용 출력-->            
          </div>
          <div class="chat-typing-area-wrapper">
            
            <div class="chat-typing-area">
              <button class="file-upload-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="24px" height="24px">
                  <path d="M 12.5 4 C 10.032499 4 8 6.0324991 8 8.5 L 8 39.5 C 8 41.967501 10.032499 44 12.5 44 L 35.5 44 C 37.967501 44 40 41.967501 40 39.5 L 40 18.5 A 1.50015 1.50015 0 0 0 39.560547 17.439453 L 39.544922 17.423828 L 26.560547 4.4394531 A 1.50015 1.50015 0 0 0 25.5 4 L 12.5 4 z M 12.5 7 L 24 7 L 24 15.5 C 24 17.967501 26.032499 20 28.5 20 L 37 20 L 37 39.5 C 37 40.346499 36.346499 41 35.5 41 L 12.5 41 C 11.653501 41 11 40.346499 11 39.5 L 11 8.5 C 11 7.6535009 11.653501 7 12.5 7 z M 27 9.1210938 L 34.878906 17 L 28.5 17 C 27.653501 17 27 16.346499 27 15.5 L 27 9.1210938 z M 23.978516 21 A 1.50015 1.50015 0 0 0 22.939453 21.439453 L 18.939453 25.439453 A 1.50015 1.50015 0 1 0 21.060547 27.560547 L 22.5 26.121094 L 22.5 31.5 A 1.50015 1.50015 0 1 0 25.5 31.5 L 25.5 26.121094 L 26.939453 27.560547 A 1.50015 1.50015 0 1 0 29.060547 25.439453 L 25.060547 21.439453 A 1.50015 1.50015 0 0 0 23.978516 21 z M 17.5 35 A 1.50015 1.50015 0 1 0 17.5 38 L 30.5 38 A 1.50015 1.50015 0 1 0 30.5 35 L 17.5 35 z"/>
                </svg>
              </button>
              <input
                type="text"
                placeholder="Type your message..."
                class="chat-input"
                id="chatInput"
              />
              
              <button class="send-button">
                <!-- Send icon -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  stroke="currentColor"x
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-send"
                  viewBox="0 0 24 24"
                >
                  <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                </svg>
                <!-- Send icoxn -->
              </button>
            </div>
          </div>
        </div>
        </div>
      </div>
      <button class="expand-btn">
        <!-- expand icon -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-message-circle"
        >
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
          />
        </svg>
        <!-- expand icon -->
      </button>
    </div>
    <!-- Socket.IO 및 클라이언트 스크립트 -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- 번들 파일 -->
    <script src="/bundle.js"></script>
    <script>
        // 방 이름 설정
        const roomNameElement = document.getElementById("roomName");

        // URL에서 방 이름 추출
        const roomName = window.location.pathname.split('/')[2] || "Unknown Room";
        roomNameElement.textContent = roomName; // 방 이름 업데이트
    </script>
  </body>
</html>

