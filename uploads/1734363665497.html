<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <META HTTP-EQUIV="Page-Enter" ConTENT="BlendTrans(Duration=0.3)">
    <META HTTP-EQUIV="Page-exit" ConTENT="BlendTrans(Duration=0.3)">
    <title>VideoCall App UI</title>

    <!-- Add Google Font -->
    <link
      href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style2.css" />

  </head>
  <body>
    <div class="app-container">
      <button class="mode-switch">
        <!-- sun icon -->
        <svg
          class="sun"
          fill="none"
          stroke="#fbb046"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-sun"
          viewBox="0 0 24 24"
        >
          <defs />
          <circle cx="12" cy="12" r="5" />
          <path
            d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
          />
        </svg>
        <!-- sun icon -->

        <!-- moon icon -->
        <svg
          class="moon"
          fill="none"
          stroke="#ffffff"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-moon"
          viewBox="0 0 24 24"
        >
          <defs />
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
        </svg>
        <!-- moon icon -->
      </button>
      <div class="app-main">
        <div class="room-title">
          Room: <span id="roomName"></span>
        </div>
          <!-- 내 비디오 -->
          

          <!-- 원격 비디오 -->
          <div class="videoContainer">
              <video class="localVideo" autoplay muted></video>
              
                <!-- 동적으로 비디오가 추가됩니다 -->
          </div>

        <div class="video-call-actions">
          <button class="video-action-button mic" onclick = "toggleAct(this)"></button>
          <button class="video-action-button camera" onclick = "toggleAct(this)"></button>
          <button class="video-action-button maximize" onclick="toggleFullScreen()"></button>
          <button class="video-action-button endcall" type = "button" onclick="location.href ='first.html'">Leave</button>
          <button class="video-action-button magnifier">
            <!-- ZoomIn icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-zoom-in"
              viewBox="0 0 24 24"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35M11 8v6M8 11h6" />
            </svg>

            <!-- ZoomIn icon -->
            <span>100%</span>
            <!-- ZoomOut Icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-zoom-out"
            >
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
              <line x1="8" y1="11" x2="14" y2="11" />
            </svg>
            <!-- ZoomOut Icon -->
          </button>
        </div>
      </div>

      <!-- Right Side -->
      <div class="right-side">
        <button class="btn-close-right">
          <!-- Close Icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            class="feather feather-x-circle"
            viewBox="0 0 24 24"
          >
            <defs></defs>
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M15 9l-6 6M9 9l6 6"></path>
          </svg>
          <!-- Close Icon -->
        </button>
        <div class="chat-container">
          <div id="messages">
            <h3>Chat</h3>
          </div>
          <div class="chat-area">        
          </div>
          
            <div class="input-container">
              <input
                type="text"
                placeholder="Type your message..."
                class="messageInput"
              />
              
            </div>
            <input type="file" class="fileInput" />
              <button class= "fileButton">파일 업로드</button>
              
          
        </div>
        
        </div>
      </div>
      <button class="expand-btn">
        <!-- expand icon -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-message-circle"
        >
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
          />
        </svg>
        <!-- expand icon -->
      </button>
    </div>
    <!-- Socket.IO 및 클라이언트 스크립트 -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- 번들 파일 -->
     
    <script src="/bundle.js"></script>
    <script>
        // 방 이름 설정
        const roomNameElement = document.getElementById("roomName");

        // URL에서 방 이름 추출
        const roomName = window.location.pathname.split('/')[2] || "Unknown Room";
        roomNameElement.textContent = roomName; // 방 이름 업데이트
        const switchMode = document.querySelector('button.mode-switch'),
        bodyfunction = document.querySelector('body'),
        closeBtn = document.querySelector('.btn-close-right'),
        rightSide = document.querySelector('.right-side'),
        expandBtn = document.querySelector('.expand-btn');

        switchMode.addEventListener('click', () => {
        bodyfunction.classList.toggle('dark');
        });
        closeBtn.addEventListener('click', () => {
        rightSide.classList.remove('show');
        expandBtn.classList.add('show');
        });
        expandBtn.addEventListener('click', () => {
        rightSide.classList.add('show');
        expandBtn.classList.remove('show');
        });
    </script>
  </body>
</html>

